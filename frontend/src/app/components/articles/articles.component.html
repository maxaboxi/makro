<app-loading-spinner *ngIf="loading"></app-loading-spinner>
<div *ngIf="!loading">
  <div class="row mt-3 mb-2 justify-content-center">
    <div class="form-group">
      <input
        type="text"
        name="article"
        class="form-control"
        placeholder="{{ 'SEARCH_ARTICLES_PLACEHOLDER' | translate }}"
        (keyup)="searchArticles()"
        [(ngModel)]="searchTerm"
      />
    </div>
  </div>
  <div class="container mb-5">
    <button
      *ngIf="this.user?.username && online"
      class="btn btn-block btn-outline-success"
      title="{{ 'WRITE_ARTICLE' | translate }}"
      routerLink="/articles/addarticle"
    >
      <i class="fas fa-plus"></i> {{ 'WRITE_ARTICLE' | translate }}
    </button>
    <h2 class="h2 text-center mt-3" *ngIf="!online">{{ 'NO_CONNECTION' | translate }}</h2>
    <div *ngIf="articles && articles.length === 0" class="mt-3">
      <h2 class="h2 text-center">{{ 'NO_ARTICLES' | translate }}</h2>
    </div>
    <div *ngIf="results.length === 0 && searchTerm.length > 0" class="mt-3">
      <h2 class="h2 text-center">{{ 'NO_SEARCH_RESULTS' | translate }}</h2>
    </div>
    <div *ngIf="articles && articles.length > 0 && results.length === 0 && searchTerm.length === 0">
      <app-article *ngFor="let a of articles" [user]="user" [article]="a" (deleted)="getAllArticles()"></app-article>
    </div>
    <div *ngIf="results.length > 0" class="mt-3">
      <app-article *ngFor="let a of results" [user]="user" [article]="a" (deleted)="getAllArticles()"></app-article>
    </div>
  </div>
</div>
